# On-Premises Configuration
# This configuration file is used for running the pipeline in local/on-premises environments

# Local Data Paths
events {
  process_date = "20200918"

  users_input = "./data/users"
  events_input = "./data/events"
  train_input = "./data/train"

  output_dir = "./data/features"
}

application {
  scripts_uri = "./scripts"
  process_date = "2021-02-06"

  runtime {
    # Spark configurations for local deployment
    spark.app.name = "event-consolidation-onprem"
    spark.master = "local[*]"
    
    hadoopConfiguration {
      # Disable checksum for local filesystem
      mapreduce.fileoutputcommitter.marksuccessfuljobs = false
    }
    
    filesystem.skip.write.checksum = true
    
    # Validation run setting (set to false for production)
    validationRun = "false"
  }
}

# Staging and metrics paths for local environment
staging {
  uri = "/tmp/staging/events"
}

metrics {
  uri = "/tmp/metrics/events"
}
